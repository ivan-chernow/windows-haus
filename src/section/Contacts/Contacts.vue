<template>
  <section class="contacts" id="contacts">
    <p class="contacts__title">Контакты</p>
    <div class="contacts_block">
      <div class="contacts__left">
        <p class="contacts-left__title">Бесплатная консультация:</p>
        <div class="contacts-left__numbers">
          <svg width="25" height="27" viewBox="0 0 25 27" fill="none" xmlns="http://www.w3.org/2000/svg"
               class="contacts-left__img contacts-left__img1">
            <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M4.6875 0.411133C4.6875 0.411133 3.90625 0.411133 3.90625 1.19238C3.125 1.19238 3.125 1.97363 2.34375 1.97363C2.34375 2.75488 2.34375 2.75488 1.5625 2.75488V4.31738C0.78125 4.31738 0.78125 4.31738 0.78125 4.31738C0.78125 4.31738 0.78125 4.31738 0.78125 5.09863V5.87988C0 5.87988 0 5.87988 0 6.66113V7.44238C0 8.22363 0 8.22363 0 8.22363C0 8.22363 0 8.22363 0 9.00488V9.78613C0 10.5674 0 10.5674 0 10.5674L0.78125 11.3486C0.78125 12.1299 0.78125 12.1299 0.78125 12.1299V12.9111L1.5625 13.6924C1.5625 14.4736 1.5625 14.4736 1.5625 14.4736C1.5625 14.4736 1.5625 14.4736 1.5625 15.2549H2.34375V16.0361C2.34375 16.0361 2.34375 16.0361 3.125 16.0361V16.8174L3.90625 17.5986C3.90625 17.5986 3.90625 17.5986 3.90625 18.3799C3.90625 18.3799 4.6875 18.3799 3.90625 18.3799C4.6875 18.3799 4.6875 19.1611 5.46875 19.1611L6.25 20.7236L7.03125 21.5049C7.8125 22.2861 7.8125 21.5049 7.8125 22.2861C7.8125 22.2861 8.59375 22.2861 8.59375 23.0674L10.1562 23.8486C10.1562 23.8486 10.1562 23.8486 10.1562 24.6299C10.1562 24.6299 10.1562 24.6299 10.9375 24.6299C11.7188 24.6299 10.9375 24.6299 11.7188 24.6299L12.5 25.4111C13.2812 25.4111 13.2812 26.1924 13.2812 26.1924H14.0625C14.8438 26.1924 14.8438 26.1924 14.8438 26.1924C14.8438 26.1924 14.8438 26.1924 15.625 26.1924L16.4062 26.9736H17.9688L19.5312 26.1924H20.3125C20.3125 26.1924 20.3125 26.1924 21.0938 25.4111C21.875 25.4111 21.875 25.4111 21.875 25.4111L22.6562 24.6299C22.6562 23.8486 22.6562 23.8486 23.4375 23.8486L24.2188 23.0674C24.2188 23.0674 24.2188 23.0674 24.2188 22.2861V21.5049C24.2188 20.7236 24.2188 20.7236 24.2188 20.7236C23.4375 20.7236 23.4375 20.7236 23.4375 20.7236C23.4375 19.9424 23.4375 20.7236 23.4375 19.9424C22.6562 19.9424 22.6562 19.9424 22.6562 19.9424C22.6562 19.1611 22.6562 19.1611 22.6562 19.1611C22.6562 19.1611 22.6562 19.1611 21.875 19.1611L20.3125 17.5986H19.5312L18.75 16.8174L17.9688 17.5986H17.1875C17.1875 17.5986 17.1875 17.5986 16.4062 18.3799H15.625C15.625 19.1611 14.8438 19.1611 14.8438 19.9424H14.0625H13.2812C13.2812 19.9424 12.5 19.9424 12.5 19.1611C12.5 19.1611 12.5 19.1611 11.7188 19.1611L10.1562 17.5986C10.1562 16.8174 8.59375 16.0361 8.59375 15.2549C7.8125 15.2549 8.59375 15.2549 7.8125 15.2549C7.8125 15.2549 7.8125 15.2549 7.8125 14.4736L7.03125 13.6924V12.9111C6.25 12.1299 6.25 11.3486 6.25 11.3486C6.25 10.5674 7.03125 10.5674 7.03125 9.78613C7.03125 9.78613 7.03125 9.78613 7.8125 9.78613L8.59375 9.00488C8.59375 8.22363 8.59375 8.22363 8.59375 8.22363C9.375 7.44238 10.1562 7.44238 9.375 6.66113V5.87988V5.09863V4.31738L8.59375 3.53613L7.8125 2.75488C7.8125 1.97363 7.8125 1.97363 7.8125 1.97363H7.03125V1.19238C7.03125 1.19238 6.25 1.19238 6.25 0.411133H5.46875H4.6875V0.411133ZM12.5 9.78613H13.2812C13.2812 9.78613 14.0625 10.5674 14.8438 10.5674H15.625C15.625 11.3486 16.4062 11.3486 16.4062 11.3486V12.1299C16.4062 12.1299 17.1875 12.1299 17.1875 12.9111V13.6924C17.1875 13.6924 17.1875 13.6924 17.1875 14.4736L17.9688 15.2549H20.3125V14.4736L19.5312 13.6924V12.9111V12.1299C19.5312 12.1299 19.5312 12.1299 19.5312 11.3486H18.75V10.5674H17.9688C17.9688 9.78613 17.9688 10.5674 17.9688 9.78613C17.1875 9.78613 17.1875 9.78613 17.1875 9.00488C16.4062 9.00488 16.4062 9.00488 16.4062 9.00488C16.4062 8.22363 14.8438 8.22363 14.8438 8.22363H14.0625L13.2812 7.44238H12.5V9.78613ZM12.5 5.09863H13.2812H14.0625C14.0625 5.09863 14.0625 5.09863 14.0625 5.87988H14.8438C15.625 5.87988 15.625 5.87988 16.4062 5.87988C16.4062 5.87988 17.1875 6.66113 17.9688 6.66113L18.75 7.44238C19.5312 7.44238 18.75 7.44238 19.5312 7.44238C19.5312 8.22363 19.5312 8.22363 19.5312 8.22363C20.3125 8.22363 20.3125 8.22363 20.3125 9.00488L21.0938 9.78613L21.875 11.3486C21.875 12.1299 21.875 12.1299 21.875 12.9111L22.6562 13.6924V15.2549H23.4375C24.2188 14.4736 24.2188 15.2549 25 15.2549V14.4736V13.6924L24.2188 12.9111V12.1299V11.3486V10.5674L23.4375 9.78613C23.4375 9.78613 23.4375 9.78613 23.4375 9.00488C22.6562 9.00488 22.6562 8.22363 22.6562 8.22363C22.6562 8.22363 22.6562 8.22363 22.6562 7.44238C22.6562 7.44238 22.6562 7.44238 21.875 7.44238C21.875 6.66113 21.875 6.66113 21.875 6.66113C21.875 6.66113 21.875 6.66113 21.0938 6.66113C21.0938 6.66113 21.0938 6.66113 21.0938 5.87988C20.3125 5.87988 20.3125 5.87988 20.3125 5.87988C20.3125 5.09863 20.3125 5.09863 20.3125 5.09863H19.5312C19.5312 5.09863 18.75 5.09863 18.75 4.31738H17.9688C17.9688 4.31738 17.9688 4.31738 17.1875 4.31738C17.1875 3.53613 17.1875 3.53613 17.1875 3.53613H16.4062H15.625H14.8438V2.75488H14.0625C13.2813 2.75488 13.2812 2.75488 13.2812 2.75488H12.5V5.09863Z"
                  fill="#EF7F1A"/>
          </svg>
          <a href="tel:" class="contacts-left__tel">8 (4932) 34 - 31 - 40</a>
          <a href="tel:" class="contacts-left__tel">8 (905) 109 - 31 - 40</a>
        </div>
        <div class="contacts-left__address">
          <svg width="20" height="27" viewBox="0 0 20 27" fill="none" xmlns="http://www.w3.org/2000/svg"
               class="contacts-left__img contacts-left__img2">
            <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M10 0.677246C15.3846 0.677246 20 5.29263 20 10.6772C20 16.0619 12.3077 26.0619 10 26.0619C6.92308 26.0619 0 16.0619 0 10.6772C0 5.29263 4.61538 0.677246 10 0.677246ZM10 6.06186C12.3077 6.06186 14.6154 8.36955 14.6154 10.6772C14.6154 13.7542 12.3077 15.2926 10 15.2926C6.92308 15.2926 5.38462 13.7542 5.38462 10.6772C5.38462 8.36955 6.92308 6.06186 10 6.06186Z"
                  fill="#EF7F1A"/>
          </svg>
          <a class="contacts-left__text" href="https://yandex.ru/maps/-/CHQeBEm~" target="_blank"
             rel="noopener noreferrer">г. Иваново, ул. Генерала Хлебникова, д.54, оф.303</a>
        </div>
        <div class="contacts-left__mail">
          <svg width="22" height="23" viewBox="0 0 22 23" fill="none" xmlns="http://www.w3.org/2000/svg"
               class="contacts-left__img contacts-left__img3">
            <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M22 11.2861V20.8195C22 21.5528 21.2667 22.2861 20.5333 22.2861H2.2C0.733333 22.2861 0 21.5528 0 20.8195V11.2861L11 16.4195L22 11.2861Z"
                  fill="#EF7F1A"/>
            <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M2.2 10.5528H3.66667V6.88613C3.66667 6.1528 4.4 5.41947 5.13333 5.41947H17.6C18.3333 5.41947 19.0667 6.1528 19.0667 6.88613V10.5528H20.5333C21.2667 10.5528 22 9.81947 22 9.08613V5.41947L11 0.286133L0 5.41947V9.08613C0 9.81947 0.733333 10.5528 2.2 10.5528Z"
                  fill="#EF7F1A"/>
          </svg>
          <a class="contacts-left__text" href="mailto:">okna@haus.ru</a>
        </div>
        <p class="contacts-left__description">
          Установку должны <br>выполнять только эксперты. <br>Нам доверяют сотни семей. <br>
          Узнайте поробнее, какие <br> решения вам подходят. <br>
          Вы можете приобрести <br> недорогие товары <br>
          при гарантированно <br>
          высоком качестве.
        </p>
        <div class="contacts-left__row-img">
          <a href="https://vk.com" class="contacts-left__numbers__link left-row__img" target="_blank">
            <svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" fill="none">
              <g>
                <title>Layer 1</title>
                <path id="svg_1" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="22.9256"
                      stroke-width="2" stroke="#EF7F1A"
                      d="m21.7478,1.00366l-21.11285,0l0,19.84284l21.11285,0l0,-19.84284z"/>
                <g>
                  <path fill="#EF7F1A"
                        d="m8.06781,15.54526l0,-9.09051l3.41049,0c0.6945,0 1.25052,0.09301 1.66804,0.27904c0.42167,0.18189 0.75031,0.46507 0.98595,0.84952c0.23976,0.38032 0.35965,0.77925 0.35965,1.19678c0,0.38859 -0.10542,0.75444 -0.31625,1.09755c-0.21083,0.34312 -0.52914,0.62009 -0.95494,0.83093c0.54982,0.16122 0.97148,0.43612 1.26499,0.82471c0.29764,0.38859 0.44646,0.84746 0.44646,1.3766c0,0.4258 -0.09094,0.82266 -0.27284,1.19058c-0.17776,0.36378 -0.39892,0.64489 -0.66349,0.84332c-0.26457,0.19843 -0.59736,0.34931 -0.99835,0.45266c-0.39685,0.09922 -0.88466,0.14882 -1.46341,0.14882l-3.4663,0zm1.20297,-5.27076l1.96569,0c0.53328,0 0.91566,-0.03514 1.14716,-0.10541c0.30591,-0.09095 0.53535,-0.24184 0.6883,-0.45267c0.15709,-0.21083 0.23564,-0.4754 0.23564,-0.79371c0,-0.30178 -0.07235,-0.56635 -0.21703,-0.79372c-0.14469,-0.2315 -0.35139,-0.38859 -0.62009,-0.47127c-0.26871,-0.08681 -0.72964,-0.13021 -1.3828,-0.13021l-1.81687,0l0,2.74699zm0,4.19801l2.26333,0c0.38859,0 0.66143,-0.01447 0.81852,-0.04341c0.27697,-0.0496 0.50847,-0.13228 0.6945,-0.24803c0.18603,-0.11575 0.33898,-0.28318 0.45887,-0.50228c0.11988,-0.22323 0.17982,-0.47953 0.17982,-0.76891c0,-0.33898 -0.08681,-0.63249 -0.26044,-0.88052c-0.17362,-0.25217 -0.41546,-0.42787 -0.7255,-0.52708c-0.30591,-0.10335 -0.74824,-0.15502 -1.32699,-0.15502l-2.10211,0l0,3.12525z"/>
                </g>
              </g>
            </svg>
          </a>
          <a href="https://www.facebook.com/" class="contacts-left__numbers__link left-row__img" target="_blank">
            <svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" fill="none">
              <g>
                <title>Layer 1</title>
                <path id="svg_1" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="22.9256"
                      stroke-width="2" stroke="#EF7F1A"
                      d="m21.7478,1.00366l-21.11285,0l0,19.84284l21.11285,0l0,-19.84284z"/>
                <g>
                  <path fill="#EF7F1A"
                        d="m9.94626,18.64564l0,-9.45577l-1.63066,0l0,-1.43581l1.63066,0l0,-1.15889c0,-0.73158 0.06495,-1.27513 0.19485,-1.63066c0.17777,-0.47861 0.48886,-0.8649 0.93328,-1.1589c0.45125,-0.30084 1.08027,-0.45125 1.88705,-0.45125c0.51962,0 1.09394,0.06153 1.72296,0.1846l-0.2769,1.61015c-0.38288,-0.06837 -0.74525,-0.10256 -1.08711,-0.10256c-0.56065,0 -0.9572,0.11965 -1.18966,0.35895c-0.23247,0.2393 -0.3487,0.68714 -0.3487,1.3435l0,1.00506l2.12294,0l0,1.43581l-2.12294,0l0,9.45577l-1.83577,0z"/>
                </g>
              </g>
            </svg>
          </a>
          <a href="https://www.instagram.com/" class="contacts-left__numbers__link left-row__img" target="_blank">
            <svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" fill="none">
              <g>
                <title>Layer 1</title>
                <path id="svg_1" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="22.9256"
                      stroke-width="2" stroke="#EF7F1A"
                      d="m21.7478,1.00366l-21.11285,0l0,19.84284l21.11285,0l0,-19.84284z"/>
                <g>
                  <path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="22.9256" stroke-width="2"
                        stroke="#EF7F1A"
                        d="m11.5,15.28607c2.36713,0 4.28606,-1.91894 4.28606,-4.28607c0,-2.36712 -1.91893,-4.28606 -4.28606,-4.28606c-2.36712,0 -4.28606,1.91894 -4.28606,4.28606c0,2.36713 1.91894,4.28607 4.28606,4.28607z"/>
                </g>
                <g>
                  <path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="22.9256" stroke-width="2"
                        stroke="#EF7F1A"
                        d="m17.96542,5.5438c0.43836,0 0.79372,-0.35536 0.79372,-0.79372c0,-0.43836 -0.35536,-0.79371 -0.79372,-0.79371c-0.43835,0 -0.79371,0.35535 -0.79371,0.79371c0,0.43836 0.35536,0.79372 0.79371,0.79372z"/>
                </g>
              </g>
            </svg>
          </a>
          <a href="https://web.telegram.org/" class="contacts-left__numbers__link left-row__img" target="_blank">
            <svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" fill="none">
              <g>
                <title>Layer 1</title>
                <path id="svg_1" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="22.9256"
                      stroke-width="2" stroke="#EF7F1A"
                      d="m21.7478,1.00366l-21.11285,0l0,19.84284l21.11285,0l0,-19.84284z"/>
                <g>
                  <path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="22.9256" stroke-width="2"
                        stroke="#EF7F1A"
                        d="m6.42025,9.5713l10.31825,-4.28606l-3.17482,11.42951l-4.28606,-2.6987l-3.01612,0.1588l5.39726,-3.49235"/>
                </g>
              </g>
            </svg>
          </a>
          <a href="https://www.youtube.com/" class="contacts-left__numbers__link left-row__img" target="_blank">
            <svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" fill="none">
              <g>
                <title>Layer 1</title>
                <path id="svg_1" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="22.9256"
                      stroke-width="2" stroke="#EF7F1A"
                      d="m21.7478,1.00366l-21.11285,0l0,19.84284l21.11285,0l0,-19.84284z"/>
                <g>
                  <path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="22.9256" stroke-width="2"
                        stroke="#EF7F1A" d="m8.48389,7.03143l6.03223,4.28606l-6.03223,3.65109l0,-7.93715z"
                        clip-rule="evenodd" fill-rule="evenodd"/>
                </g>
              </g>
            </svg>
          </a>
          <a href="https://ok.ru/" class="contacts-left__numbers__link left-row__img" link="_rel" target="_blank">
            <svg width="23.000000000000004" height="22" xmlns="http://www.w3.org/2000/svg" fill="none">
              <g>
                <title>Layer 1</title>
                <path id="svg_1" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="22.9256"
                      stroke-width="2" stroke="#EF7F1A"
                      d="m21.7478,1.00366l-21.11285,0l0,19.84284l21.11285,0l0,-19.84284z"/>
                <g>
                  <path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="22.9256" stroke-width="2"
                        stroke="#EF7F1A"
                        d="m11.5,11.83887c1.66575,0 3.01611,-1.35036 3.01611,-3.01612c0,-1.66575 -1.35036,-3.01611 -3.01611,-3.01611c-1.66576,0 -3.01611,1.35036 -3.01611,3.01611c0,1.66576 1.35035,3.01612 3.01611,3.01612z"/>
                </g>
                <g stroke="null">
                  <path stroke="#EF7F1A" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="22.9256"
                        stroke-width="2" d="m15.85253,18.18284l-4.18381,-3.17486l-4.36572,3.49235"/>
                </g>
                <g stroke="null">
                  <path stroke="#EF7F1A" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="22.9256"
                        stroke-width="2"
                        d="m15.22401,12.69457c-0.34641,0.95246 -1.9053,1.58743 -3.6374,1.58743c-1.9053,0 -3.46419,-0.63497 -3.81062,-1.58743"/>
                </g>
              </g>
            </svg>
          </a>
          <img src="../../assets/img/Contacts/section8.job.png" alt="img" class="contacts-left__img-back"/>
        </div>
      </div>

      <div class="contacts__right">
        <div class='contacts-right__form'>
          <p class="contacts-right__title">Остались вопросы?</p>
          <input type="text" class='contacts-right__input' v-model="form.name " placeholder="Ваше имя" maxlength="20">
          <input type="text" class='contacts-right__input' v-model="form.email" placeholder="E-mail" maxlength="40">
          <textarea type="text" class='contacts-right__input contacts-right__input-text' v-model="form.text"
                    maxlength="500"
                    placeholder="Ваш отзыв"
          ></textarea>
          <div class="section-bid-right__row">
            <input
                type="checkbox"
                id="customCheckbox"
                class="section-bid-right__checkbox"
            />
            <label for="customCheckbox" class="modal-row__label">
              <div class="custom-checkbox" :class="{ 'checked': isChecked }" @click="isChecked = !isChecked">
                <svg width="23" height="24" viewBox="0 0 23 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                     class="checkmark">
                  <path d="M1.5 15L8.5 22L21.5 1" stroke="#000000" stroke-width="2"/>
                </svg>
              </div>
              <p class="right-agree__description">
                Я согласен(на) на обработку
                <a href="/privacy" class='right-agree__span'>персональных данных</a>
              </p>
            </label>
          </div>
          <button
              class="right-agree__button"
              @click="submitForm"
              :class="{ 'disabled': isSubmitting || isToastVisible }"
              :disabled="isSubmitting || isToastVisible">
            Отправить сообщение
          </button>
          <div v-if="successMessage" class="success-message">{{ successMessage }}</div>
        </div>
      </div>
    </div>
  </section>
</template>


<style scoped>
.contacts {
 width: 1280px;
  margin: 86px auto 0px auto;
  text-align: center;
  padding-bottom: 121px;
}

.contacts__title {
  font-weight: 700;
  font-size: 24px;
  color: #2F2F51;
  margin-bottom: 58px;
}

.contacts_block {
  display: flex;
  align-items: center;
  justify-content: center;
}

.contacts__left {
  display: flex;
  flex-direction: column;
  width: 50%;
  position: relative;
}

.contacts-left__title {
  font-weight: 700;
  font-size: 18px;
  color: #2F2F51;
  text-align: left;
  margin-bottom: 25px;
}

.contacts-left__text {
  font-weight: 700;
  font-size: 18px;
  color: #2F2F51;
  margin-bottom: 10px;
  text-align: left;
}

.contacts-left__numbers {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  margin-bottom: 20px;
}


.contacts-left__img {
  margin-right: 26px;
}

.contacts-left__img1 {
  width: 25px;
  height: 26px;
}

.contacts-left__img2 {
  width: 20px;
  height: 25px;
}

.contacts-left__img3 {
  width: 22px;
  height: 22px;
}

.contacts-left__tel {
  font-weight: 700;
  font-size: 22px;
  color: #000000;
}

.contacts-left__tel:hover {
  color: #EF7F1A;
  transition: color 0.2s ease-in-out;
}

.contacts-left__tel:not(:last-child) {
  margin-right: 30px;
}

.contacts-left__address {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  margin-bottom: 10px;

}

.contacts-left__text {
  font-weight: 400;
  font-size: 18px;
  color: #000000;
  padding-top: 10px;

}
.contacts-left__text:hover {
  color: #EF7F1A;
  transition: color 0.2s ease-in-out;
}

.contacts-left__text:not(:last-child) {
  margin-bottom: 20px;
}

.contacts-left__mail {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  margin-bottom: 60px;
}

.contacts-left__description {
  font-weight: 400;
  color: #2F2F51;
  margin-bottom: 30px;
  width: 228px;
  text-align: left;
  line-height: 1.3;

}

.contacts-left__row-img {
  display: flex;
  align-items: center;
  justify-content: flex-start;
}

.left-row__img:not(:last-child) {
  margin-right: 10px;
}

.contacts-left__numbers__link {
  cursor: pointer;
}

.contacts-left__numbers__link:hover path {
  stroke: #2F2F51;
  transition: stroke 0.2s ease-in-out;
}

.contacts-left__img-back {
  width: 327px;
  height: 365px;
  position: absolute;
  right: -30px;
  bottom: -165px;
}

.contacts-right__form {
  width: 511px;
  height: 564px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  border-radius: 10px;
  background-color: #FFFFFF;
}

.contacts-right__title {
  font-weight: 700;
  font-size: 24px;
  color: #2F2F51;
  margin-bottom: 27px;
  text-align: center;
}

.contacts-right__input {
  display: flex;
  align-items: flex-start;
  justify-content: center;
  margin-bottom: 15px;
  color: #424268;
  background-color: #E2E2E2;
  font-weight: 400;
  font-size: 14px;
  padding: 12px 0 16px 12px;
  width: 395px;
  border: none;
  outline: none;
  position: relative;
}

.contacts-right__input-text {
  height: 134px;
  padding-bottom: 100px;
  padding-left: 15px;
  overflow: auto;
  resize: none;

}

.contacts-right__input-text::-webkit-scrollbar {
  display: none;
}

.contacts-right__input-text::placeholder {
  display: flex;
  position: absolute;
  left: 17px;
  top: 16px;
}

.contacts-right__input:focus {
  border-color: #ef7f1a;
  box-shadow: 0 0 5px rgba(239, 127, 26, 0.5);
}

.contacts-right__input:hover {
  border-color: #ef7f1a;
}

.right-agree__description {
  font-weight: 400;
  font-size: 14px;
  color: #2F2F51;
  width: 360px;
  text-align: left;
}

.right-agree__span {
  font-weight: 700;
  color: #EF7F04;
}

.right-agree__button {
  color: #FFFFFF;
  background-color: #2F2F51;
  font-weight: 700;
  font-size: 14px;
  width: 258px;
  height: 54px;
  display: flex;
  align-items: center;
  justify-content: center;
  align-self: center;
  border: none;
  cursor: pointer;
  transition: all 0.3s ease;
  z-index: 1;
}

.right-agree__button.disabled {
  background-color: #cccccc;
  color: #666666;
  cursor: not-allowed;
}

.right-agree__button.disabled:hover {
  background-color: #cccccc;
  transform: none;
  color: #666666;
}

.right-agree__button:hover {
  color: #ffffff;
  background-color: #EF7F04;
  transform: scale(1.1);
}

.right-agree__button:active {
  background-color: #0056b3;
  transform: scale(1.05);
}


.custom-checkbox {
  display: inline-block;
  width: 24px;
  height: 24px;
  position: relative;
  cursor: pointer;
}

.checkmark {
  position: absolute;
  width: 100%;
  height: 100%;
  display: none;
}

.custom-checkbox.checked .checkmark {
  display: block;
}

</style>
<script setup lang="ts">
import {ref} from 'vue';
import * as yup from 'yup';
import {init, send} from 'emailjs-com';
import {useToast} from 'vue-toastification';

const toast = useToast();

const schema = yup.object({
  name: yup.string().required('Имя обязательно.'),
  email: yup.string()
      .required('Email обязателен.')
      .email('Некорректный Email.'),
  text: yup.string().required('Отзыв обязателен'),

});
const isChecked = ref(false);
const form = ref({
  name: '',
  email: '',
  text: ''
});
const successMessage = ref('');
const isSubmitting = ref(false);
const isToastVisible = ref(false);

const submitForm = async () => {
  if (isSubmitting.value || isToastVisible.value) return;
  isSubmitting.value = true;

  try {
    await schema.validate(form.value, {abortEarly: false});
    if (!isChecked.value) {
      showToast('Вы должны согласиться с обработкой персональных данных.', true);
      return;
    }

    init("igmhWkl9x5vvkcYeT");

    const templateParams = {
      from_name: form.value.name,
      to_name: 'sutrame735@gmail.com',
      message: `Отзыв.\nПочта: ${form.value.email}\n ${form.value.text}`,
      reply_to: form.value.email,
    };

    await send('service_7wrfg5b', 'template_1il9zx9', templateParams);

    form.value = {name: '', email: '', text: ''};
    isChecked.value = false;
    showToast('Отзыв отправлен.Спасибо!');

  } catch (error) {
    if (error instanceof yup.ValidationError) {
      error.inner.forEach(err => {
        showToast(err.message, true);
      });
    } else {
      showToast('Ошибка при отправке отзыва', true);
    }
  } finally {
    isSubmitting.value = false;
  }
};

const showToast = (message: string, isError = false) => {
  isToastVisible.value = true;
  const toastMethod = isError ? toast.error : toast.success;
  toastMethod(message, {
    onClose: () => {
      isToastVisible.value = false;
    }
  });
};
</script>
